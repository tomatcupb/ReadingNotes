# 为什么HashMap的Capacity的设置是2的幂次？

1. 位运算代替除法提高运算效率
    ```
    X % (2^N) = X & (2^N-1)
    ```
    "事实证明，质数并不是散列通的理想容量。进来，（经过广泛测试）Java的散列函数都是用2的整数次方。
    对现代处理器来说，除法与求余数是最慢的操作。使用2的整数次方长度的散列表，可以用掩码代替除法。
    因为get()是使用最多的操作，求余数的%是开销最大的部分，而使用2的整数次方可以消除此开销（也可能对hashCode()有些影响）。"
    --《Java编程思想》
    
1. 使用位运算的提速的同时，保证散列桶的利用率
    ![保证散列桶的利用率](./images/hash.jpg)
    [深入理解HashMap](https://www.iteye.com/topic/539465)
    

# 为什么默认loadFactor是0.75？
"HashMap使用的默认负载因子是0.75，这个因子在时间和空间代价之间达到了平衡。"
--《Java编程思想》
1. 如果把负载因子设置成1，容量使用默认初始值16，那么表示一个HashMap需要在"满了"之后才会进行扩容。
那么在HashMap中，最好的情况是这16个元素通过hash算法之后分别落到了16个不同的桶中，否则就必然发生哈希碰撞。
而随着元素越多，哈希碰撞的概率越大，查找速度也会越低。
1. 如果负载因子设置为0.5，那么就会频繁的扩容，浪费空间。

# 初始容量设置
"如果你知道将在HashMap中存储多少项，那么创建一个具有恰当大小的初始容量将可以避免自动再散列的开销"
--《Java编程思想》

